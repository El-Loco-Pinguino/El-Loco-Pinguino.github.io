<!DOCTYPE html>
<html lang="fr">
  <head>
    <title>03 - Playing with CSS variables and JS</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css" integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO" crossorigin="anonymous">
    <link rel="stylesheet" href="./css/03.css">
  </head>
  <body>
    <h2>Mettre Ã  jour des variables CSS avec du <span class='hl'>JS</span></h2>

    <div class="controls">
      <label for="spacing">Espacement:</label>
      <input id="spacing" type="range" name="spacing" min="10" max="50" value="10" data-sizing="px">
  
      <label for="blur">Flou:</label>
      <input id="blur" type="range" name="blur" min="0" max="10" value="0" data-sizing="px">
  
      <label for="base">Couleur:</label>
      <input id="base" type="color" name="base" value="#ffffff">

      <label for="scaleX">Redimensionnement X:</label>
      <input min="75" max="125" value="100" type="range" name="scaleX" id="scaleX" data-sizing="px">
    </div>
  
    <img src="./assets/voiturenoire.png">

    <script>
        const inputs = document.querySelectorAll(".controls input")

        function handleUpdate() {
            const suffix = this.dataset.sizing || ""
            if (this.name === "scaleX") {
                document.documentElement.style.setProperty(`--${this.name}`, (this.value / 100))
            } else {
                document.documentElement.style.setProperty(`--${this.name}`, this.value + suffix)
            }
        }

        inputs.forEach(input => input.addEventListener(("change"), handleUpdate))
        inputs.forEach(input => input.addEventListener(("mousemove"), handleUpdate))
    </script>
  </body>
</html>
