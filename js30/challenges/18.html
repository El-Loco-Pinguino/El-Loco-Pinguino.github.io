<!DOCTYPE html>
<html lang="fr">
    <head>
        <title>18 - Addition de temps</title>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
        <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css" integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO" crossorigin="anonymous">
    </head>
    <body>
        <div>
            <h1>Addition de temps</h1>
            <h2>Au sujet de la série MP3 Reflets d'Acide</h2>
            <ul class="videos">
                <li data-time="13:45">Partie 1 : L'enrôlement</li>
                <li data-time="12:50">Partie 2 : La forêt des éventrés</li>
                <li data-time="17:00">Partie 3 : Le fleuve des glaires tièdes</li>
                <li data-time="10:17">Partie 4 : La grotte de l'herpès écorché</li>
                <li data-time="13:09">Partie 5 : Le bivouac...tion !</li>
                <li data-time="12:39">Partie 6 : La colline des Mille gangrènes</li>
                <li data-time="13:29">Partie 7 : Le mont Mucus</li>
                <li data-time="16:43">Partie 8 : Au fond du trou</li>
                <li data-time="21:30">Partie 9 : Énigme dans l'abîme</li>
                <li data-time="26:35">Partie 10 : La croisée des chemins</li>
                <li data-time="35:25">Partie 11 : L'elfe et la prison brisée</li>
                <li data-time="42:53">Partie 12 : L'infâme alliance des fléaux</li>
                <li data-time="54:12">Partie 13 : Dies irae, dies illa solvet saeclum in savilla</li>
                <li data-time="61:47">Partie 14 : Un peuple qui oublie son passé se condamne à le revivre</li>
                <li data-time="89:06">Partie 15 : Bien plus que des racines, mieux vaut avoir des ailes... afin de s'élever</li>
                <li data-time="112:54">Partie 16 : Au delà de la Mort, de l’Enfer et du Temps, Il n’est de pire sort que celui du Néant</li>
            </ul>
        </div>

        <iframe width="420" height="315" src="https://www.youtube.com/embed/T7wB7TQHylM"></iframe>
        <p>Durée totale: <span id="time"></span></p>
        <small>C'est pas tout à fait la bonne durée par contre (9:14:50)</small>

        <script>
            const timeNodes = [...document.querySelectorAll("[data-time]")]
            const seconds = timeNodes
            .map(node => node.dataset.time)
            .map(timeCode => {
                const [mins, secs] = timeCode.split(":").map(parseFloat)
                return mins * 60 + secs
            })
            .reduce((total, seconds) => (total + seconds), 0)

            let secondsLeft = seconds
            const hours = Math.floor(secondsLeft / 3600)
            secondsLeft = secondsLeft % 3600
            const mins = secondsLeft % 60
            secondsLeft = secondsLeft % 60
            document.getElementById("time").innerHTML = `${hours}:${mins}:${secondsLeft}`
        </script>
    </body>
</html>
