<!DOCTYPE html>
<html lang="fr">
    <head>
        <title>18 - Addition de temps</title>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
        <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css" integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO" crossorigin="anonymous">
    </head>
    <body style="padding: 1em;">
        <div>
            <h1>Addition de temps</h1>
            <h2>Au sujet d'un <em>let's play</em> dont je suis l'auteur</h2>
            <small>C'est juste un petit coup de pub.</small>
            <ul class="videos">
                <li data-time="27:38">Partie 1 : Un véritable potage</li>
                <li data-time="39:45">Partie 2 : Zoologiquement incorrect !</li>
                <li data-time="5:25">Partie 3 : La revanche !</li>
                <li data-time="2:56">Partie 4 : Métronome Song</li>
                <li data-time="29:08">Partie 5 : Première évolution !</li>
                <li data-time="26:23">Partie 6 : Lippoutou est Pingu avec une robe</li>
                <li data-time="30:43">Partie 7 : Métronome et Capacité Z ?</li>
                <li data-time="20:18">Partie 8 : La curiosité est un vilain défaut</li>
                <li data-time="9:46">Partie 9 : Faiblesses par tâtonnement</li>
                <li data-time="2:20">Partie 10 : C'est quoi ça ?</li>
                <li data-time="25:18">Partie 11 : Face-à-face au manoir hanté</li>
                <li data-time="30:01">Partie 12 : Ankh Ruins (1/2)</li>
                <li data-time="26:03">Partie 13 : Mission - 30 Pokémon attrapés !</li>
                <li data-time="26:34">Partie 14 : Ankh Ruins (2/2)</li>
                <li data-time="25:33">Partie 15 : Une capture indescriptible</li>
                <li data-time="41:29">Partie 16 : Parce que Fabrice est bouée !</li>
                <li data-time="3:59">Partie 17 : Beibeille dans la place !</li>
                <li data-time="7:57">Partie 18 : Pokédex humain</li>
                <li data-time="31:57">Partie 19 : C'est un Célébi !</li>
                <li data-time="21:35">Partie 20 : Overdose de légendaires</li>
                <li data-time="25:15">Partie 21 : Bibendum le surpuissant</li>
                <li data-time="26:54">Partie 22 : Tendance des capacités de piège</li>
                <li data-time="7:44">Partie 23 : Zombies dérisoires</li>
                <li data-time="6:05">Partie 24 : Le trailer du let's play</li>
                <li data-time="38:23">Partie 25 : Pyramides cyclopes</li>
                <li data-time="35:01">Partie 26 : Naviguer sur un camion</li>
                <li data-time="35:55">Partie 27 : Encore un légendaire raté !</li>
                <li data-time="38:34">Partie 28 : La glacière du chaos</li>
                <li data-time="50:26">Partie 29 : Ils sont trop forts !</li>
                <li data-time="32:36">Partie 30 : Pokémon x Lego...</li>
                <li data-time="12:47">Partie 31 : Le OH-Chaos de M. Hibou</li>
            </ul>
            <iframe width="560" height="315" src="https://www.youtube.com/embed/videoseries?list=PLf0QnAXbGvcpaEB0hqrAWdiCG0M_YYKZ9" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe>
            <p>Durée totale: <span id="time"></span></p>
        </div>

        <script>
            const timeNodes = [...document.querySelectorAll("[data-time]")]
            const seconds = timeNodes
            .map(node => node.dataset.time)
            .map(timeCode => {
                const [mins, secs] = timeCode.split(":").map(parseFloat)
                return mins * 60 + secs
            })
            .reduce((total, seconds) => (total + seconds), 0)

            let secondsLeft = seconds
            const hours = Math.floor(secondsLeft / 3600)
            secondsLeft = secondsLeft % 3600
            const mins = secondsLeft % 60 < 10 ? "0" + secondsLeft % 60 : secondsLeft % 60
            secondsLeft = secondsLeft % 60 < 10 ? "0" + secondsLeft % 60 : secondsLeft % 60
            document.getElementById("time").innerHTML = `${hours}:${mins}:${secondsLeft}`
        </script>
    </body>
</html>
